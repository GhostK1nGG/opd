# Батутный центр — админ-панель (Flask + SQLite)

## Быстрый старт
1) Установи Python 3.9+ (или 3.10+)  
2) В папке проекта:

```bash
python -m venv .venv
# Windows:
.venv\Scripts\activate
# Linux/Mac:
source .venv/bin/activate

pip install -r requirements.txt
python app.py
```

Открой: http://127.0.0.1:5000

Тестовый админ:
- login: **admin**
- password: **admin**

## Что внутри
- Вход/выход (Flask-Login)
- Админ-дашборд
- CRUD справочников:
  - Типы зон, Статусы зон, Зоны
  - Статусы брони
  - Услуги
  - Клиенты
- Бронирования: создание с проверкой пересечений по времени + вместимости
- Оплаты: привязка к брони и подсчёт оплачено/остаток

SQLite база создаётся автоматически в файле `trampoline.db`.

## Примечание
Это стартовый MVP под курсовой. Дальше можно наращивать:
- роли и права
- услуги в брони (booking_service)
- посещения (visit) check-in/out
- отчёты


### Если падало при первом запуске
Удалите файл `trampoline.db` и запустите снова — база создастся заново и будет создана учётка **admin/admin**.


### Добавлено
- Услуги по брони (таблица booking_service)
- Фактические посещения (таблица visit)


### v4 (course-ready)
- Исправлены отношения Visit↔Employee через back_populates (без SAWarning)
- Для загрузки коллекций использован selectinload (без ошибки unique())
- Устранены проблемы с отступами/дублирующимся сидером
- На странице брони показана детализация: сессия/услуги/итого


### v6 UI
- Дизайн как в примере: palette #6366F1, фон #F8FAFC, Inter, sidebar + контент + FAB
- Исправлена ошибка Jinja: block 'content' определяется один раз (base.html)
- Смена пароля: /account/password
